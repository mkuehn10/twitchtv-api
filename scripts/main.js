"use strict";var usernames=["ESL_SC2","OgamingSC2","cretetion","freecodecamp","storbeck","habathcx","RobotCaleb","noobs2ninjas"],User=function(e,t,s,r){var n=this;n.username=e,n.status=t,n.game=s||"",n.info=r||"",n.thumbnail=ko.observable("https://dummyimage.com/50x50/ecf0e7/5c5457.jpg&text=0x3F")};User.prototype.userStatus=function(){return"online"===this.status?"online":"offline"},User.prototype.createGameStatus=function(){return this.game?"Playing: "+this.game:"Offline"};var ViewModel=function(){var e=this;e.selection=ko.observable("#all"),e.usernames=ko.observableArray(usernames),e.userList=ko.observableArray([]),e.clickSelection=function(t,s){e.selection(s.target.hash.substring(0))},e.refreshStreams=function(){e.userList([]),console.log("Loading streams.  .  ."),ko.utils.arrayForEach(e.usernames(),function(t){var s,r="https://api.twitch.tv/kraken/streams/"+t+"?callback=?";$.getJSON(r).done(function(r){null===r.stream?(s=new User(t,"offline"),e.userList.push(s)):(s=new User(t,"online",r.stream.game,r.stream.channel.status),e.userList.push(s));var n="https://api.twitch.tv/kraken/channels/"+t+"?callback=?";$.getJSON(n).done(function(e){s.thumbnail(e.logo)})})})},e.filterResults=function(t){return"#all"===t?e.userList():ko.utils.arrayFilter(e.userList(),function(e){return"#"+e.status===t})},e.findUser=function(t){return ko.utils.arrayFilter(e.userList(),function(e){return e.username===t})},e.refreshStreams()},viewModel=new ViewModel;ko.applyBindings(viewModel);